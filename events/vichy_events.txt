add_namespace = vichy

country_event = {
	id = vichy.1
	title = vichy.1.t
	desc = vichy.1.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = USA
		VIC = { exists = yes }
		VIC = { is_in_faction = no }
		is_in_faction_with = ENG
	}
	mean_time_to_happen = {
		days = 1
	}
	
	option = { 
		name = vichy.1.a
		VIC = { country_event = {
				id = vichy.2 }	}
		
	}

	
}

country_event = {
	id = vichy.2
	title = vichy.2.t
	desc = vichy.2.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	is_triggered_only = yes
		
	option = { # stay neutral
		name = vichy.2.a
		trigger = {
			is_ai = yes
			
		}
		add_timed_idea = {
				idea = USA_demands
				days = 365
			}
			ai_chance = { factor = 100 }

		USA = { set_country_flag = USAdemandsI}
	}
	option = { # join allies
		name = vichy.2.b
		trigger = {
			is_ai = no
			
		}
			USA = {add_to_faction = VIC	}
			ai_chance = { factor = 0 }
	}
	option = { # join axis
		name = vichy.2.c
		trigger = {
			is_ai = no
			
		}
			GER = {add_to_faction = VIC	}	
			ai_chance = { factor = 0 }
	}
	
}

country_event = {
	id = vichy.3
	title = vichy.3.t
	desc = vichy.3.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = USA
		VIC = { exists = yes }
		VIC = { is_in_faction = no }
		is_in_faction_with = ENG
		VIC = { NOT = { has_idea =  USA_demands }}
		has_country_flag = USAdemandsI
	}
	mean_time_to_happen = {
		days = 1
	}
	
	
	option = { 
		name = vichy.3.a
		VIC = { country_event = {
				id = vichy.4 }	}		
	}

	
}
country_event = {
	id = vichy.4
	title = vichy.4.t
	desc = vichy.4.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	is_triggered_only = yes
		
	option = { # stay neutral
		name = vichy.4.a
		trigger = {
			is_ai = yes
			
		}
			add_timed_idea = {
				idea = USA_demands_II
				days = 90
			}
		
		ai_chance = { factor = 100 }

		USA = { set_country_flag = USAdemandsII}
	}
	option = { # join allies
		name = vichy.4.b
		trigger = {
			is_ai = no
			
		}
			USA = {add_to_faction = VIC	}
			ai_chance = { factor = 0 }
	}
	option = { # join axis
		name = vichy.4.c
		trigger = {
			is_ai = no
			
		}
			GER = {add_to_faction = VIC	}	
			ai_chance = { factor = 0 }
	}
	
}

country_event = {
	id = vichy.5
	title = vichy.5.t
	desc = vichy.5.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = USA
		has_war_with = GER
		VIC = { exists = yes }
		VIC = { is_in_faction_with = GER }
		is_in_faction_with = ENG
		not = { has_country_flag = USAtorchII }
		or = {
		ENG = {
			NOT = { controls_state = 446 }}
		USA = {
			NOT = { controls_state = 446 }}
		ENG = {
			NOT = { controls_state = 118 }}
		USA = {
			NOT = { controls_state = 118 }}
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	
	
	option = { 
		name = vichy.5.a
			trigger = {
			is_ai = no
			
		}
		USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		ai_chance = { factor = 0 }
		USA = { set_country_flag = USAtorchI}
		GER = { country_event = {
				id = vichy.11 }}
	}
	option = { 
		name = vichy.5.b
			trigger = {
			is_ai = yes
			
		}
		USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		load_oob = "USA_Torch_east_coast"
		ai_chance = { factor = 100 }
		USA = { set_country_flag = USAtorchI}
		GER = { country_event = {
				id = vichy.11 }}
	}
	
}

country_event = {
	id = vichy.6
	title = vichy.6.t
	desc = vichy.6.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = USA
		has_war_with = GER
		VIC = { exists = yes }
		VIC = { is_in_faction_with = GER }
		is_in_faction_with = ENG
		not = { has_country_flag = USAtorchI }
		or = {
		ENG = { controls_state = 446 }
		USA = { controls_state = 446 }
		ENG = { controls_state = 118 }
		USA = { controls_state = 118 }
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	
	
	option = { 
		name = vichy.6.a
		trigger = {
			is_ai = no
			
		}
		USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		ai_chance = { factor = 0 }	
		USA = { set_country_flag = USAtorchII}
		GER = { country_event = {
				id = vichy.11 }}
	}
	option = { 
		name = vichy.6.b
		trigger = {
			is_ai = yes
			
		}
		USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		load_oob = "USA_Torch_historical"
		
		ai_chance = { factor = 100 }
		USA = { set_country_flag = USAtorchII}
		GER = { country_event = {
				id = vichy.11 }}
	}
	}


country_event = {
	id = vichy.7
	title = vichy.7.t
	desc = vichy.7.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = USA
		country_exists = VIC
		VIC = { is_in_faction = no }
		is_in_faction_with = ENG
		has_country_flag = USAdemandsII
		not = { has_country_flag = USAtorchIV }
		or = {
		VIC = { 
		NOT = { has_idea = USA_demands_II }
		}
		date > 1942.1.11
		}
		or = {
		ENG = {
			NOT = { controls_state = 446 }}
		USA = {
			NOT = { controls_state = 446 }}
		ENG = {
			NOT = { controls_state = 118 }}
		USA = {
			NOT = { controls_state = 118 }}
		}
	}
	mean_time_to_happen = {
		days = 8
	}
	
	
	option = { 
		name = vichy.7.a
		trigger = {
			is_ai = no
			
		}
			USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		GER = {add_to_faction = VIC	}	
		add_timed_idea = {
				idea = USA_demands_III
				days = 5
			}
		GER = { country_event = {
				id = vichy.11 }}
		ai_chance = { factor = 0 }
		set_country_flag = USAdemandsIII
		set_country_flag = USAtorchIII
	}
	option = { 
		name = vichy.7.b
		trigger = {
			is_ai = yes
			
		}
			USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		load_oob = "USA_Torch_east_coast"
		GER = {add_to_faction = VIC	}
		add_timed_idea = {
				idea = USA_demands_III
				days = 5
			}
		GER = { country_event = {
				id = vichy.11 }}
		ai_chance = { factor = 100 }
		set_country_flag = USAdemandsIII
		set_country_flag = USAtorchIII
	}
	option = { 
		name = vichy.7.c
		trigger = {
			is_ai = no
					}
		ai_chance = { factor = 0 }
		
		set_country_flag = USAtorchIII
		}
}

country_event = {
	id = vichy.8
	title = vichy.8.t
	desc = vichy.8.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = USA
		VIC = { exists = yes }
		VIC = { is_in_faction = no }
		is_in_faction_with = ENG
		has_country_flag = USAdemandsII
		not = { has_country_flag = USAtorchIII }
		or = {
		VIC = { 
		NOT = { has_idea = USA_demands_II }
		}
		date > 1942.1.11
		}
		or = {
		ENG = { controls_state = 446 }
		USA = { controls_state = 446 }
		ENG = { controls_state = 118 }
		USA = { controls_state = 118 }
		}
	}
	mean_time_to_happen = {
		days = 8
	}
	
	
	option = { 
		name = vichy.8.a
		trigger = {
			is_ai = no
					}
			USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		GER = {add_to_faction = VIC	}		
			add_timed_idea = {
				idea = USA_demands_III
				days = 2
			}
		GER = { country_event = {
				id = vichy.11 }}
		ai_chance = { factor = 0 }
		set_country_flag = USAdemandsIII
		set_country_flag = USAtorchIV
	}
	option = { 
		name = vichy.8.b
		trigger = {
			is_ai = yes
					}
			USA = {
				declare_war_on = {
					target = VIC
					type = annex_everything

				}
			}
		load_oob = "USA_Torch_historical"
		GER = {add_to_faction = VIC	}
			add_timed_idea = {
				idea = USA_demands_III
				days = 2
			}
		GER = { country_event = {
				id = vichy.11 }}
		ai_chance = { factor = 100 }
		set_country_flag = USAdemandsIII
		set_country_flag = USAtorchIV
	}
	option = { 
		name = vichy.8.c
		trigger = {
			is_ai = no
					}
		ai_chance = { factor = 0 }
		
		set_country_flag = USAtorchIV
		}
}

country_event = {
	id = vichy.9
	title = vichy.9.t
	desc = vichy.9.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = USA
		VIC = { exists = yes }
		has_war_with = VIC
		is_in_faction_with = ENG
		not = { has_idea = USA_demands_III }
		has_country_flag = USAdemandsIII
	}
	mean_time_to_happen = {
		days = 1
	}
	
	
	option = { 
		name = vichy.9.a
		VIC = { country_event = {
				id = vichy.10 }	}	
	}

	
}
country_event = {
	id = vichy.10
	title = vichy.10.t
	desc = vichy.10.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	is_triggered_only = yes
		
	option = { # yes
		name = vichy.10.a
		add_national_unity = -0.95
		ai_chance = {
			factor = 100
		}	
		GER = { country_event = {
				id = vichy.12 }	}
	}
	option = { # no
		name = vichy.10.b
		ai_chance = {
			factor = 0
		}			
	}
	
}

country_event = {
	id = vichy.11
	title = vichy.11.t
	desc = vichy.11.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	is_triggered_only = yes
		
	option = { 
		name = vichy.11.a	#operation anton player option
		trigger = {
			is_ai = no
			
		}
			GER = {
					transfer_state = 1
												
										
					transfer_state = 21
												
									
					transfer_state = 26
												
								
					transfer_state = 22
					
							
					transfer_state = 25
						
								
					transfer_state = 20
						
								
					transfer_state = 31
										
			
					transfer_state = 32
						
									
					transfer_state = 33
						
												
					transfer_state = 268
						
					transfer_state = 735		
					
				}	
	}
	option = { 
		name = vichy.11.b	#operation anton AI option
		trigger = {
			is_ai = yes
			
		}
		GER = {
					transfer_state = 1
												
										
					transfer_state = 21
												
									
					transfer_state = 26
												
								
					transfer_state = 22
					
							
					transfer_state = 25
						
								
					transfer_state = 20
						
								
					transfer_state = 31
										
			
					transfer_state = 32
						
									
					transfer_state = 33
						
												
					transfer_state = 268
						
					transfer_state = 735			
					
				}	
			
		ai_chance = { factor = 100 }
	}
	
}
country_event = {
	id = vichy.12
	title = vichy.12.t
	desc = vichy.12.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	is_triggered_only = yes
		
	option = { 
		name = vichy.12.a	#
		trigger = {
			is_ai = no
			
		}
				GER = {
			if = {
				limit = { 
					USA = { 
						not = {controls_state = 458}
					
				}
				}
					transfer_state = 458
					
					}
					if = {
				limit = { 
					USA = { 
						not = { controls_state = 665 }
						
				}
				}
					transfer_state = 665
					
					}
				}
	}
	option = { 
		name = vichy.12.b	#operation anton AI option
		trigger = {
			is_ai = yes
			
		}
	
				GER = {
			if = {
				limit = { 
					USA = { 
						not = {controls_state = 458}
					
				}
				}
					transfer_state = 458
					
					}
					if = {
				limit = { 
					USA = { 
						not = { controls_state = 665 }
						
				}
				}
					transfer_state = 665
					
					}
				}
				
		load_oob = "GER_OOB_Tunis"
		ai_chance = { factor = 100 }
	}
	
}
country_event = {
	id = vichy.13
	title = vichy.13.t
	desc = vichy.13.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	trigger = {
		tag = ENG
		has_war_with = GER
		is_ai = yes
		
		is_in_faction_with = USA
		or = {
		USA = { has_country_flag = USAtorchII}
		USA = { has_country_flag = USAtorchIII}
		}
		or = {
		ENG = { controls_state = 446 }
		USA = { controls_state = 446 }
		ENG = { controls_state = 118 }
		USA = { controls_state = 118 }
		}
	}
	mean_time_to_happen = {
		days = 5
	}
	
	
	option = { 
		name = vichy.13.a
	
		load_oob = "ENG_Torch_historical"
		
		ai_chance = { factor = 100 }
		
	}
	}
country_event = {
	id = vichy.14
	title = vichy.14.t
	desc = vichy.14.d
	picture = GFX_report_event_swedish_soldier
	fire_only_once = yes
	
	
	trigger = {
		tag = FRA
		has_war_with = GER
		is_ai = yes
		
		is_in_faction_with = USA
		or = {
		USA = { has_country_flag = USAtorchII}
		USA = { has_country_flag = USAtorchIII}
		}
		or = {
		ENG = { controls_state = 446 }
		USA = { controls_state = 446 }
		ENG = { controls_state = 118 }
		USA = { controls_state = 118 }
		}
	}
	mean_time_to_happen = {
		days = 5
	}
	option = { 
		name = vichy.14.a
		trigger = {
			is_ai = yes
			
		}
	
		load_oob = "FRA_Torch_historical"
		
		ai_chance = { factor = 100 }
		
	}
	}


