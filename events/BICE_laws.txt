add_namespace = law

#Democratic to Dictatorship Press Switch
news_event = {
	id = law.1
	title = law.1.t
	desc = law.1.desc
	picture = GFX_report_event_IPR_news
	
	trigger = {
	OR = {
		AND = {
				NOT = { has_government = liberalism }
				has_country_flag = was_liberal
			}
		AND = {
				NOT = { has_government = conservatism }
				has_country_flag = was_conservative
			}
		AND = {
				NOT = { has_government = socialism }
				has_country_flag = was_socialist
			}
		}
	OR = {
			has_government = fascism
			has_government = communism
		}
	OR = {	
		has_country_flag = press_free
		has_country_flag = press_regulated
		}
	}

	mean_time_to_happen = { days = 5 }

	immediate = {
		
	}
	
	option = {
		name = law.1.a
		add_ideas = press_state
		set_country_flag = press_state
	}
}

#Dictatorship to Democratic Press Switch
news_event = {
	id = law.2
	title = law.2.t
	desc = law.2.desc
	picture = GFX_report_event_IPR_news
	
	trigger = {
		OR = {
			AND = {
				NOT = { has_government = communism }
				has_country_flag = was_communist
			}
			AND = {
				NOT = { has_government = fascism }
				has_country_flag = was_fascist
			}
			AND = {
				NOT = { has_government = monarchism }
				has_country_flag = was_monarchist
			}
			AND = {
				NOT = { has_government = neutrality }
				has_country_flag = was_neutral
			}
		}
		has_war = no
		NOT = { 
			has_country_flag = press_free
			has_country_flag = press_regulated
		}
	}

	mean_time_to_happen = { days = 5 }

	immediate = {

	}
	
	option = {
		name = law.2.a
		add_ideas = press_regulated
		set_country_flag = press_regulated
	}
}

#Democratic to Monarchy Press Switch
news_event = {
	id = law.3
	title = law.3.t
	desc = law.3.desc
	picture = GFX_report_event_IPR_news
	
	trigger = {
		has_government = monarchism
		OR = {
			has_country_flag = was_liberal
			has_country_flag = was_conservative
			has_country_flag = was_socialist
		}
		OR = {	
			has_country_flag = press_free
			has_country_flag = press_regulated
			}
		}

	mean_time_to_happen = { days = 5 }

	immediate = {
		
	}
	
	option = {
		name = law.3.a
		add_ideas = press_censored
		set_country_flag = press_censored
	}
}

#Labor Laws
country_event = {
	id = law.6
	title = law.6.t
	desc = law.6.desc
	picture = GFX_report_event_IPR_news
	hidden = yes
	
	is_triggered_only = yes

	immediate = {
		
	}
	
	option = {
		name = law.6.a
		trigger = {
			has_country_flag = labor_allowed
			has_country_flag = labor_encouraged
		}
		add_ideas = labor_transition
		clr_country_flag = labor_allowed
	}
	option = {
		name = law.6.b
		trigger = {
			has_country_flag = labor_allowed
			has_country_flag = labor_pressed
		}
		add_ideas = labor_transition
		clr_country_flag = labor_allowed
	}
	option = {
		name = law.6.c
		trigger = {
			has_country_flag = labor_encouraged
			has_country_flag = labor_pressed
		}
		add_ideas = labor_transition
		clr_country_flag = labor_encouraged
	}
	option = {
		name = law.6.d
		trigger = {
			has_country_flag = labor_none
			has_country_flag = labor_encouraged
		}
		add_ideas = labor_transition
		clr_country_flag = labor_none
	}
	option = {
		name = law.6.e
		trigger = {
			has_country_flag = labor_none
			has_country_flag = labor_pressed
		}
		add_ideas = labor_transition
		clr_country_flag = labor_none
	}
}
country_event = {
	id = law.4
	title = law.4.t
	desc = law.4.desc
	picture = GFX_report_event_IPR_news
	hidden = yes
	trigger = {
		has_idea = labor_transition
	}

	mean_time_to_happen = { days = 90 }

	immediate = {

	}
	
	option = {
		name = law.4.a
		swap_ideas = {
			add_idea = labor_transition2
			remove_idea = labor_transition
		}
	}
}

country_event = {
	id = law.5
	title = law.5.t
	desc = law.5.desc
	picture = GFX_report_event_IPR_news
	hidden = yes
	trigger = {
		has_idea = labor_transition2
	}
	mean_time_to_happen = { days = 90 }

	immediate = {

	}
	
	option = {
		name = law.5.a
		remove_ideas = labor_transition2
	}
}