#dont invade until 1943
careful_with_early_invasions = {
	enable = {
		OR = {
			is_in_faction_with = ENG # anyone in allies
			tag = FRA
		}

		date < 1943.1.1
		
	}
	abort = {
			date > 1943.1.1 #after torch
	}

	ai_strategy = {
		type = invade
		id = "ITA"			
		value = -500000
	}

	ai_strategy = {
		type = invade
		id = "GER"			
		value = -500000
	}
	ai_strategy = {
		type = invade
		id = "JAP"			
		value = -500000
	}
	ai_strategy = {
		type = invade
		id = "FIN"
		value = -500000
	}
}
ENG_focus_Italy = {
	enable = {
		tag = ENG 
		is_historical_focus_on = yes
		has_war_with = ITA
		has_capitulated = no
		OR = {
		date > 1942.1.1
		GER = { has_war_with = SOV }
		}
		NOT = {
			any_allied_country = {
				any_owned_state = {
					OR = {
						is_on_continent = france
						is_on_continent = italy
						is_on_continent = north_europe
						is_on_continent = germany
						is_on_continent = spain
						is_on_continent = balkans
						is_on_continent = benelux
					}
				}
			}
		}
	}
		abort = {
			NOT = { 
				ITA = {
					any_owned_state = {
						is_on_continent = north_africa
					}
				}
			}
		}
			ai_strategy = {
				type = antagonize
				id = "ITA"
				value = 500000
			}
			ai_strategy = {
				type = conquer
				id = "ITA"
				value = 500000
			}
		}

#All allies target jap after ger surrender
Allies_Japan = {
	enable = {
		NOT = {
		tag = BEL
		tag = NOR
		tag = DEN
		tag = LIB 
		tag = MEX
		tag = GER
		tag = BRA
		}
		is_in_faction_with = ENG
		has_capitulated = no
		is_historical_focus_on = yes
		has_war_with = JAP
		NOT = { has_war_with = SOV }
		NOT = { has_war_with = GER }
		NOT = { has_war_with = ITA }
		NOT = { SOV = { has_war_with = GER }}
		}
		abort = {
			OR = {
				has_capitulated = yes
				JAP = { has_capitulated = yes }
				NOT = { has_war_with = JAP }
				has_war_with = GER
				has_war_with = SOV #Unthinkable
				}
			}
			ai_strategy = {
				type = antagonize
				id = "JAP"
				value = 500000
			}
			ai_strategy = {
				type = conquer
				id = "JAP"
				value = 500000
			}
		}
		
stay_in_commonwealth = {
    enable = {
		OR = {
			AND = {
				tag = CAN
				CAN = { democratic_govt = yes }
			}
			AND = {
				tag = BUR
				BUR = { democratic_govt = yes }
			}
			AND = {
				tag = RAJ
				RAJ = { democratic_govt = yes }
			}
			AND = {
				tag = AST
				AST = { democratic_govt = yes }
			}
			AND = {
				tag = NZL
				NZL = { democratic_govt = yes }
			}
			AND = {
				tag = SAF
				SAF = { democratic_govt = yes }
			}
		}
		NOT = { is_faction_leader = yes }
        ENG = { is_faction_leader = yes }
    }
    abort = {
       ENG = { is_faction_leader = no NOT = { has_government = communism has_government = fascism } }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 100000
    }
}
canada_stay_in_commonwealth = {
    enable = {
		tag = CAN
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
southafrica_stay_in_commonwealth = {
    enable = {
		tag = SAF
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
newzealand_stay_in_commonwealth = {
    enable = {
		tag = NZL
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
australia_stay_in_commonwealth = {
    enable = {
		tag = AST
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
burma_stay_in_commonwealth = {
    enable = {
		tag = BUR
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
raj_stay_in_commonwealth = {
    enable = {
		tag = RAJ
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
east_prussia_invasion_is_death_trap = {
	enable = {
		
		OR = {
			is_in_faction_with = ENG # anyone in allies
			tag = FRA
		}

		GER = { has_war_with = POL }
		POL = { 
			OR = {
				exists = yes 
				has_capitulated = no
			}
		}

		date < 1940.1.1
	}
	
	abort = {
		OR = {
			NOT = { GER = { has_war_with = POL } }
			POL = { 
				OR = {
					exists = no
					has_capitulated = yes
				}
			}
			date > 1940.1.1
		}
	}

	ai_strategy = {
		type = invade
		id = "GER"			
		value = -2000
	}
}