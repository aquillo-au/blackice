#dont invade until 1943
careful_with_early_invasions = {
	enable = {
		OR = {
			is_in_faction_with = ENG # anyone in allies
			tag = FRA
		}

		date < 1943.1.1
		
	}
	abort = {
			is_historical_focus_on = yes
			date > 1943.1.1
			GER = { has_war_with = SOV }
	}

	ai_strategy = {
		type = invade
		id = "ITA"			
		value = -500
	}

	ai_strategy = {
		type = invade
		id = "GER"			
		value = -500
	}
	ai_strategy = {
		type = invade
		id = "JAP"			
		value = -500
	}
	ai_strategy = {
		type = invade
		id = "FIN"
		value = -500
	}
}
#After North Africa is under Allied Controll
Allies_hunt_Italy = {
	enable = {
		tag = USA
		tag = CAN
		tag = ENG 
		is_historical_focus_on = yes
		has_war_with = ITA
		has_capitulated = no
		NOT = { ITA = { controls_state = 663 controls_state = 450 controls_state = 451 controls_state = 449 controls_state = 662 controls_state = 448 controls_state = 662 }}
		}
		abort = {
			OR = {
				NOT = { has_war_with = ITA }
				has_capitulated = yes
				ITA = { has_capitulated = yes }
			}
			}
			ai_strategy = {
				type = invade
				id = "ITA"
				value = 500000
			}
			ai_strategy = {
				type = antagonize
				id = "ITA"
				value = 500000
			}
			ai_strategy = {
				type = conquer
				id = "ITA"
				value = 500000
			}
		}
	
Allies_D_DAY = {
	enable = {
		tag = ENG
		tag = CAN
		tag = USA
		has_capitulated = no
		is_historical_focus_on = yes
		has_war_with = GER
		GER = { has_war_with = SOV }
		date > 1944.1.1
		}
		abort = {
			OR = {
				has_capitulated = yes	
				GER = { has_capitulated = yes }
				NOT = { has_war_with = GER }
				}
			}
			ai_strategy = {
				type = invade
				id = "GER"
				value = 500000
			}
			ai_strategy = {
				type = antagonize
				id = "GER"
				value = 500000
			}
			ai_strategy = {
				type = conquer
				id = "GER"
				value = 500000
			}
		}
#All allies target jap after ger surrender
Allies_Japan = {
	enable = {
		is_in_faction_with = ENG
		has_capitulated = no
		is_historical_focus_on = yes
		has_war_with = JAP
		NOT = { has_war_with = SOV }
		NOT = { has_war_with = GER }
		NOT = { SOV = { has_war_with = GER }}
		}
		abort = {
			OR = {
				has_capitulated = yes	
				JAP = { has_capitulated = yes }
				NOT = { has_war_with = JAP }
				has_war_with = GER
				has_war_with = SOV #Unthinkable
				}
			}
			ai_strategy = {
				type = invade
				id = "JAP"
				value = 500000
			}
			ai_strategy = {
				type = antagonize
				id = "JAP"
				value = 500000
			}
			ai_strategy = {
				type = conquer
				id = "JAP"
				value = 500000
			}
		}
		
stay_in_commonwealth = {
    enable = {
		OR = {
			AND = {
				tag = CAN
				CAN = { democratic_govt = yes }
			}
			AND = {
				tag = BUR
				BUR = { democratic_govt = yes }
			}
			AND = {
				tag = RAJ
				RAJ = { democratic_govt = yes }
			}
			AND = {
				tag = AST
				AST = { democratic_govt = yes }
			}
			AND = {
				tag = NZL
				NZL = { democratic_govt = yes }
			}
			AND = {
				tag = SAF
				SAF = { democratic_govt = yes }
			}
		}
		NOT = { is_faction_leader = yes }
        ENG = { is_faction_leader = yes }
    }
    abort = {
       ENG = { is_faction_leader = no NOT = { has_government = communism has_government = fascism } }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 100000
    }
}
canada_stay_in_commonwealth = {
    enable = {
		tag = CAN
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
southafrica_stay_in_commonwealth = {
    enable = {
		tag = SAF
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
newzealand_stay_in_commonwealth = {
    enable = {
		tag = NZL
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
australia_stay_in_commonwealth = {
    enable = {
		tag = AST
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
burma_stay_in_commonwealth = {
    enable = {
		tag = BUR
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
raj_stay_in_commonwealth = {
    enable = {
		tag = RAJ
		democratic_govt = yes
        ENG = { is_faction_leader = yes has_country_flag = allies_leader }
    }
    abort = {
       ENG = { is_faction_leader = no }
    }

    ai_strategy = {
        type = alliance
        id = "ENG"     
        value = 300000
    }
}
east_prussia_invasion_is_death_trap = {
	enable = {
		
		OR = {
			is_in_faction_with = ENG # anyone in allies
			tag = FRA
		}

		GER = { has_war_with = POL }
		POL = { 
			OR = {
				exists = yes 
				has_capitulated = no
			}
		}

		date < 1940.1.1
	}
	
	abort = {
		OR = {
			NOT = { GER = { has_war_with = POL } }
			POL = { 
				OR = {
					exists = no
					has_capitulated = yes
				}
			}
			date > 1940.1.1
		}
	}

	ai_strategy = {
		type = invade
		id = "GER"			
		value = -2000
	}
}